<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>congdong007</title>
  
  <subtitle>A technology-focused organization</subtitle>
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2023-10-17T16:29:40.889Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>Dong Cong</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>About File Testing in the Go Language.</title>
    <link href="http://example.com/2019/02/12/goAboutUnitTest/"/>
    <id>http://example.com/2019/02/12/goAboutUnitTest/</id>
    <published>2019-02-13T01:59:33.000Z</published>
    <updated>2023-10-17T16:29:40.889Z</updated>
    
    <content type="html"><![CDATA[<p>To test a Go file, you typically need to create a test file in the same directory as the file you’re testing and write your test code within it. Here’s an example: you have a file named math.go containing a simple mathematical function ‘Add.’ Then, you will create a test file named math_test.go to test this function.</p><p>Assuming the math.go file is as follows:</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// math.go</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Add</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>You can then create a math_test.go file to write your test code:</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// math_test.go</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;testing&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TestAdd</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">    result := Add(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">    expected := <span class="number">5</span></span><br><span class="line">    <span class="keyword">if</span> result != expected &#123;</span><br><span class="line">        t.Errorf(<span class="string">&quot;Add(2, 3) returned %d, expected %d&quot;</span>, result, expected)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In math_test.go, we import the testing package and write a test function named TestAdd. Test functions should start with ‘Test’ and accept a <strong><em>*testing.T</em></strong> parameter, which is used to report test failures.</p><p>Inside the TestAdd function, we call Add(2, 3) to execute the function being tested and compare the result to the expected value. If the result doesn’t match the expected value, we use <strong><em>t.Errorf</em></strong> to report the test failure with detailed error information.</p><p>Next, you can run the tests using the ‘<strong><em>go test</em></strong>‘ command in your terminal:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go <span class="built_in">test</span></span><br></pre></td></tr></table></figure><p>Go will search for all the <strong><em>_test.go</em></strong> files <strong><em>in the current directory and execute the test functions within them</em></strong>. If the tests pass, you’ll see a success message. If the tests fail, you’ll get detailed failure information.</p><p>This is just a very basic example. In real-world projects, you can write more test cases to cover various scenarios and ensure that your code works correctly in different situations.”</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;To test a Go file, you typically need to create a test file in the same directory as the file you’re testing and write your test code wit</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>nil in the Go language</title>
    <link href="http://example.com/2019/01/03/goNil/"/>
    <id>http://example.com/2019/01/03/goNil/</id>
    <published>2019-01-04T03:59:12.000Z</published>
    <updated>2023-10-17T15:38:41.786Z</updated>
    
    <content type="html"><![CDATA[<p>In the Go language, “<strong><em>nil</em></strong>“ is a special predefined value commonly used to represent zero values or missing values in certain data structures. Here are some common usages and scenarios for “<strong><em>nil</em></strong>“:</p><ol><li><strong><em>Pointer and Reference Types</em></strong>: The most common use of “<strong><em>nil</em></strong>“ is in pointer and reference types, indicating that a pointer doesn’t point to any valid memory address or a reference doesn’t reference any object. For example, “<strong><em>nil</em></strong>“ is used in the following cases:</li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ptr *<span class="type">int</span>    <span class="comment">// Declare an integer pointer, its zero value is nil</span></span><br><span class="line"><span class="keyword">var</span> slice []<span class="type">int</span> <span class="comment">// Declare an integer slice, its zero value is nil</span></span><br><span class="line"><span class="keyword">var</span> m <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">int</span> <span class="comment">// Declare a map, its zero value is nil</span></span><br></pre></td></tr></table></figure><ol start="2"><li><strong><em>Interface Types</em></strong>: “<strong><em>nil</em></strong>“ can also be used with interface types, signifying that an interface has no specific implemented value. This can be useful in some cases to check if an interface is empty (uninitialized or unassigned).</li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myInterface <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> myInterface == <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;The interface is empty&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li><strong><em>Function and Method Return Values</em></strong>: Functions and methods can return multiple values, some of which might be pointer types. In certain situations, returned pointers may be “<strong><em>nil</em></strong>,” indicating that there are no valid return values.</li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findValue</span><span class="params">(slice []<span class="type">int</span>, target <span class="type">int</span>)</span></span> (*<span class="type">int</span>, <span class="type">bool</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> i, val := <span class="keyword">range</span> slice &#123;</span><br><span class="line">        <span class="keyword">if</span> val == target &#123;</span><br><span class="line">            <span class="keyword">return</span> &amp;slice[i], <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span>, <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>It’s important to handle “<strong><em>nil</em></strong>“ with care to avoid runtime errors like null pointer references. It’s a good practice to check whether pointers, slices, maps, and other data structures are “<strong><em>nil</em></strong>“ before accessing them to ensure safety.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;In the Go language, “&lt;strong&gt;&lt;em&gt;nil&lt;/em&gt;&lt;/strong&gt;“ is a special predefined value commonly used to represent zero values or missing value</summary>
      
    
    
    
    <category term="Go" scheme="http://example.com/categories/Go/"/>
    
    <category term="nil" scheme="http://example.com/categories/Go/nil/"/>
    
    
  </entry>
  
  <entry>
    <title>panic() and recover() in the Go Language</title>
    <link href="http://example.com/2018/12/30/goPanicAndRecover/"/>
    <id>http://example.com/2018/12/30/goPanicAndRecover/</id>
    <published>2018-12-31T01:48:46.000Z</published>
    <updated>2023-10-17T15:39:09.027Z</updated>
    
    <content type="html"><![CDATA[<p><strong><em>panic()</em></strong> and <strong><em>recover()</em></strong> are two important functions in the Go language for handling exceptions. Here is a simple example that demonstrates how to use <strong><em>panic()</em></strong> and <strong><em>recover()</em></strong> in Go.</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// A function to simulate a situation that might cause a panic</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">doSomething</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> err := <span class="built_in">recover</span>(); err != <span class="literal">nil</span> &#123;</span><br><span class="line">            fmt.Println(<span class="string">&quot;Panic occurred but recovered:&quot;</span>, err)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Simulate a problematic situation</span></span><br><span class="line">    num1 := <span class="number">10</span></span><br><span class="line">    num2 := <span class="number">0</span></span><br><span class="line">    result := num1 / num2 <span class="comment">// This will cause a division by zero panic</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;Result is:&quot;</span>, result) <span class="comment">// This won&#x27;t be printed as the panic has already occurred</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Starting the program&quot;</span>)</span><br><span class="line"></span><br><span class="line">    doSomething()</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;Program continues to execute&quot;</span>) <span class="comment">// Even if a panic occurs, this line will be printed because the panic has been recovered in doSomething()</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>In the example above, the doSomething() function attempts to divide 10 by 0, which would lead to a division by zero panic. However, we use <strong><em>defer()</em></strong> and <strong><em>recover()</em></strong> to catch and handle the panic. In the main() function, even if a panic occurs within doSomething(), the program continues to execute, and the panic information is printed within the <strong><em>recover()</em></strong> block.</p><p>Running this program will produce the following output:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Starting the program</span><br><span class="line">Panic occurred but recovered: runtime error: <span class="built_in">integer</span> divide by zero</span><br><span class="line">Program continues to execute</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>This demonstrates that the <strong><em>recover()</em></strong> function successfully catches the panic, allowing the program to continue executing without terminating.”</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;&lt;em&gt;panic()&lt;/em&gt;&lt;/strong&gt; and &lt;strong&gt;&lt;em&gt;recover()&lt;/em&gt;&lt;/strong&gt; are two important functions in the Go language for handling exc</summary>
      
    
    
    
    <category term="Go" scheme="http://example.com/categories/Go/"/>
    
    <category term="panic() and recover()" scheme="http://example.com/categories/Go/panic-and-recover/"/>
    
    
  </entry>
  
  <entry>
    <title>defer in the Go Language</title>
    <link href="http://example.com/2018/12/16/goDefer/"/>
    <id>http://example.com/2018/12/16/goDefer/</id>
    <published>2018-12-17T04:33:42.000Z</published>
    <updated>2023-10-17T15:38:15.816Z</updated>
    
    <content type="html"><![CDATA[<p>In Go language, <strong><em>defer</em></strong> is a very useful keyword used for deferring the execution of functions, typically employed for performing cleanup or resource release operations before a function returns.</p><p>A <strong><em>defer</em></strong> statement pushes the function call that should be deferred onto a stack and executes these deferred function calls in a <strong><em>last-in, first-out (LIFO)</em></strong> order just before the current function returns.</p><p>Here are some important features and uses of <strong><em>defer</em></strong>:</p><ol><li><p><strong><em>Deferred Execution</em></strong>: Using the <strong><em>defer</em></strong> keyword ensures that a function call is executed before the containing function returns, whether it returns normally or due to an error.</p></li><li><p><strong><em>Resource Cleanup</em></strong>: Common use cases include closing files, releasing locks, closing database connections, and other cleanup operations to prevent resource leaks.</p></li><li><p><strong><em>Parameter Evaluation</em></strong>: The parameters in a <strong><em>defer</em></strong> statement are evaluated when the <strong><em>defer</em></strong> statement is executed, not when the function returns.</p></li></ol><p>Here are some examples demonstrating the use of <strong><em>defer</em></strong>:</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// Example 1: defer for file closing</span></span><br><span class="line">    file := openFile(<span class="string">&quot;example.txt&quot;</span>)</span><br><span class="line">    <span class="keyword">defer</span> closeFile(file)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Example 2: defer for logging function execution time</span></span><br><span class="line">    <span class="keyword">defer</span> logTime(<span class="string">&quot;Function execution&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Example 3: Multiple defer statements execute in a last-in, first-out order</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">defer</span> fmt.Println(<span class="string">&quot;Deferred statement&quot;</span>, i)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;Function body&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">openFile</span><span class="params">(filename <span class="type">string</span>)</span></span> *File &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Opening file:&quot;</span>, filename)</span><br><span class="line">    <span class="keyword">return</span> <span class="comment">// Open the file and return the file handle</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">closeFile</span><span class="params">(file *File)</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Closing file&quot;</span>)</span><br><span class="line">    <span class="comment">// Close the file</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">logTime</span><span class="params">(message <span class="type">string</span>)</span></span> &#123;</span><br><span class="line">    fmt.Println(message, <span class="string">&quot;at some time&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In the above examples, <strong><em>defer</em></strong> statements are used to ensure the file is closed before main returns, log the execution time of the function, and execute multiple <strong><em>defer</em></strong> statements in a last-in, first-out order.</p><p><strong><em>defer</em></strong> is a powerful tool in Go that can help you write safer and cleaner code, ensuring proper resource release and consistency.”</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;In Go language, &lt;strong&gt;&lt;em&gt;defer&lt;/em&gt;&lt;/strong&gt; is a very useful keyword used for deferring the execution of functions, typically employe</summary>
      
    
    
    
    <category term="Go" scheme="http://example.com/categories/Go/"/>
    
    <category term="defer" scheme="http://example.com/categories/Go/defer/"/>
    
    
  </entry>
  
  <entry>
    <title>Closure and Anonymous Function in Go</title>
    <link href="http://example.com/2018/11/28/goAnonymousFunctionClosure/"/>
    <id>http://example.com/2018/11/28/goAnonymousFunctionClosure/</id>
    <published>2018-11-29T02:21:24.000Z</published>
    <updated>2023-10-17T15:38:03.764Z</updated>
    
    <content type="html"><![CDATA[<p>In Go language, <strong><em>closures</em></strong> and <strong><em>anonymous functions</em></strong> are both forms of functions, but they have some important differences. Below, I will provide examples of the usage and differences between these two concepts:</p><ol><li><strong><em>Closure</em></strong> Example:<br>A <strong><em>closure</em></strong> refers to a function that captures one or more variables from its outer function scope and can be called outside of that function while still accessing these captured variables.</li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    outerVar := <span class="number">10</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Closure function</span></span><br><span class="line">    closure := <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;Outer variable outerVar:&quot;</span>, outerVar)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Call the closure function</span></span><br><span class="line">    closure() <span class="comment">// Output: Outer variable outerVar: 10</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Modify the outer variable</span></span><br><span class="line">    outerVar = <span class="number">20</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Call the closure function again</span></span><br><span class="line">    closure() <span class="comment">// Output: Outer variable outerVar: 20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In the above example, <strong><em>closure</em></strong> is a closure that captures the outer variable outerVar and can access and modify that variable even outside the function.</p><ol start="2"><li><strong><em>Anonymous Function</em></strong> Example:</li></ol><p>An <strong><em>anonymous function</em></strong> is a function without a name; it can be directly assigned to a variable or passed as an argument to other functions.</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// Define and call an anonymous function</span></span><br><span class="line">    result := <span class="function"><span class="keyword">func</span><span class="params">(x, y <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> x + y</span><br><span class="line">    &#125;(<span class="number">5</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">&quot;Result of the anonymous function:&quot;</span>, result) <span class="comment">// Output: Result of the anonymous function: 8</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Assign an anonymous function to a variable</span></span><br><span class="line">    add := <span class="function"><span class="keyword">func</span><span class="params">(x, y <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> x + y</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sum := add(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;Calling the anonymous function using a variable:&quot;</span>, sum) <span class="comment">// Output: Calling the anonymous function using a variable: 30</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In the above example, we define an <strong><em>anonymous function</em></strong> and call it directly. We also assign another <strong><em>anonymous function</em></strong> to the add variable and use that variable to call the function.</p><p>To summarize the differences:</p><p>A <strong><em>closure</em></strong> is a function that captures external variables and can access and modify them outside of the function.<br>An <strong><em>anonymous function</em></strong> is a function without a name, which can be assigned to a variable or passed as an argument to other functions.<br>It’s important to note that while <strong><em>closures</em></strong> often involve <strong><em>anonymous functions</em></strong>, not all <strong><em>anonymous functions</em></strong> are <strong><em>closures</em></strong>. A <strong><em>closure</em></strong> is a specific type of <strong><em>anonymous function</em></strong> that captures external variables.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;In Go language, &lt;strong&gt;&lt;em&gt;closures&lt;/em&gt;&lt;/strong&gt; and &lt;strong&gt;&lt;em&gt;anonymous functions&lt;/em&gt;&lt;/strong&gt; are both forms of functions, but the</summary>
      
    
    
    
    <category term="Go" scheme="http://example.com/categories/Go/"/>
    
    <category term="Closure and Anonymous Function" scheme="http://example.com/categories/Go/Closure-and-Anonymous-Function/"/>
    
    
  </entry>
  
  <entry>
    <title>A Brief Summary of &quot;go func()&quot;</title>
    <link href="http://example.com/2018/11/16/goFunc/"/>
    <id>http://example.com/2018/11/16/goFunc/</id>
    <published>2018-11-17T04:00:34.000Z</published>
    <updated>2023-10-17T15:38:25.992Z</updated>
    
    <content type="html"><![CDATA[<p><strong><em>“go func()”</em></strong> is a way in the Go programming language to launch new concurrent goroutines. A goroutine is a lightweight thread in Go used for concurrent task execution. Using <strong><em>“go func()”</em></strong> allows you to create new concurrent execution flows in your program without the need to explicitly create threads or manage the complexity of thread management.</p><p>Here is a basic example and some key concepts of using <strong><em>“go func()”</em></strong>:</p><p>Basic Example:</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="comment">// Place the code you want to execute in a new concurrent goroutine here</span></span><br><span class="line">    &#125;()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// The main goroutine continues to execute other work</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In the example above, <strong><em>“go func()”</em></strong> starts a concurrent goroutine for an anonymous function, which will execute the code inside it. The main goroutine continues to execute other tasks, while the new concurrent goroutine runs in the background.</p><p>Key Concepts:</p><ol><li><p><strong><em>Anonymous Function</em></strong>: Anonymous functions are typically used to define <strong><em>“go func()”</em></strong> because there’s no need to name the concurrent goroutine. The code for the anonymous function can be enclosed in {} as needed.</p></li><li><p><strong><em>Concurrent Execution</em></strong>: Goroutines launched with <strong><em>“go func()”</em></strong> run concurrently in the background without blocking the main program’s execution. This allows you to execute multiple tasks simultaneously, improving program performance.</p></li><li><p><strong><em>Data Sharing</em></strong>: Concurrent goroutines can share data, but it’s important to handle shared data carefully to avoid race conditions and data races. You can use tools provided by the “sync” package to manage access to shared data.</p></li><li><p><strong><em>Goroutine Management</em></strong>: Go’s runtime system is responsible for creating, scheduling, and destroying goroutines. You don’t need to worry about the complexity of thread creation and destruction.</p></li><li><p><strong><em>Waiting for Goroutines to Complete</em></strong>: If you need to wait for concurrent goroutines to finish, you can use mechanisms like “sync.WaitGroup” or channels to implement waiting.</p></li></ol><p>Using <strong><em>“go func()”</em></strong> is a simple way to achieve concurrency in the Go programming language, allowing you to run tasks in parallel, such as handling concurrent requests, performing background tasks, or other work that needs to execute simultaneously. However, be cautious about handling concurrency issues and ensuring that shared data is synchronized and accessed correctly.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;&lt;em&gt;“go func()”&lt;/em&gt;&lt;/strong&gt; is a way in the Go programming language to launch new concurrent goroutines. A goroutine is a light</summary>
      
    
    
    
    <category term="Go" scheme="http://example.com/categories/Go/"/>
    
    <category term="go func()" scheme="http://example.com/categories/Go/go-func/"/>
    
    
    <category term="go" scheme="http://example.com/tags/go/"/>
    
  </entry>
  
  <entry>
    <title>A Simple Plugin System by Python</title>
    <link href="http://example.com/2011/10/22/SimplePluginSystemByPython/"/>
    <id>http://example.com/2011/10/22/SimplePluginSystemByPython/</id>
    <published>2011-10-22T20:41:33.000Z</published>
    <updated>2023-10-17T16:05:47.244Z</updated>
    
    <content type="html"><![CDATA[<p>Due to the requirements of my work, I needed to design an open software system, and immediately thought of the Python language. As a result, I designed a simple and easily extensible plugin system.</p><p>Here’s the code:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#main.py</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import importlib</span><br><span class="line"></span><br><span class="line">class PluginManager:</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.plugins = []</span><br><span class="line">        self.func_name = <span class="string">&quot;MyPlugin&quot;</span></span><br><span class="line"></span><br><span class="line">    def load_plugin(self, plugin_name):</span><br><span class="line">        try:</span><br><span class="line">            plugin_module = importlib.import_module(f<span class="string">&#x27;plugins.&#123;plugin_name&#125;&#x27;</span>)</span><br><span class="line">            plugin_instance = getattr(plugin_module, self.func_name)()</span><br><span class="line">            self.plugins.append(plugin_instance)</span><br><span class="line">            <span class="built_in">print</span>(f<span class="string">&quot;plugin &#123;plugin_name&#125; loaded.&quot;</span>)</span><br><span class="line">        except ImportError:</span><br><span class="line">            <span class="built_in">print</span>(f<span class="string">&quot;Load plugin &#123;plugin_name&#125; failed.&quot;</span>)</span><br><span class="line"></span><br><span class="line">    def run_plugins(self):</span><br><span class="line">        <span class="keyword">for</span> plugin <span class="keyword">in</span> self.plugins:</span><br><span class="line">            plugin.run()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    manager = PluginManager()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> True:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;1. Add Plugin&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;2. Run Plugin&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;3. Quit&quot;</span>)</span><br><span class="line">        choice = input(<span class="string">&quot;Your Select: &quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> choice == <span class="string">&quot;1&quot;</span>:</span><br><span class="line">            plugin_name = input(<span class="string">&quot;Please input the name of plugin: &quot;</span>)</span><br><span class="line">            manager.load_plugin(plugin_name)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> choice == <span class="string">&quot;2&quot;</span>:</span><br><span class="line">            manager.run_plugins()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> choice == <span class="string">&quot;3&quot;</span>:</span><br><span class="line">            <span class="built_in">break</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Then, you create a directory named ‘plugins.’ In this directory, you can add your plugin, which must define a class named <strong><em>‘MyPlugin’</em></strong> and must have a function named <strong><em>‘run’</em></strong>. Here is the simple code:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#my_plugin</span></span><br><span class="line"></span><br><span class="line">class MyPlugin:</span><br><span class="line">    def __init__(self):</span><br><span class="line">        pass</span><br><span class="line">    def run(self):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;MyPlugin is running&quot;</span>)</span><br></pre></td></tr></table></figure><p>The following is the running process:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1. Add Plugin</span><br><span class="line">2. Run Plugin</span><br><span class="line">3. Quit</span><br><span class="line">Your Select: 1</span><br><span class="line">Please input the name of plugin: my_plugin</span><br><span class="line">plugin my_plugin loaded.</span><br><span class="line">1. Add Plugin</span><br><span class="line">2. Run Plugin</span><br><span class="line">3. Quit</span><br><span class="line">Your Select: 2</span><br><span class="line">MyPlugin is running</span><br><span class="line">1. Add Plugin</span><br><span class="line">2. Run Plugin</span><br><span class="line">3. Quit</span><br><span class="line">Your Select: 3</span><br><span class="line">PS C:\Users\xxx\Desktop\yyy\plugin-system&gt;</span><br></pre></td></tr></table></figure><p>You can use this model to design a big and an opened software system.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Due to the requirements of my work, I needed to design an open software system, and immediately thought of the Python language. As a resu</summary>
      
    
    
    
    <category term="System Architecture" scheme="http://example.com/categories/System-Architecture/"/>
    
    <category term="Plugin Pattern" scheme="http://example.com/categories/System-Architecture/Plugin-Pattern/"/>
    
    
  </entry>
  
  <entry>
    <title>Shellcode Written in Linux</title>
    <link href="http://example.com/2011/10/16/shellcodewrite/"/>
    <id>http://example.com/2011/10/16/shellcodewrite/</id>
    <published>2011-10-16T15:54:47.000Z</published>
    <updated>2023-10-17T16:05:08.840Z</updated>
    
    <content type="html"><![CDATA[<p>Before you start learning shellcode development, please install NASM on your Linux system. Here’s the shellcode code:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">section .text</span><br><span class="line"></span><br><span class="line">global _start</span><br><span class="line"></span><br><span class="line">_start:</span><br><span class="line"></span><br><span class="line">jmp short callShellcode</span><br><span class="line"></span><br><span class="line">shellcode:</span><br><span class="line"></span><br><span class="line">pop esi                     ; Pop <span class="string">&#x27;/bin/sh&#x27;</span> from the stack into esi</span><br><span class="line">xor eax, eax                ; Set eax to NULL</span><br><span class="line">mov byte [esi + 7], al      ; Null-terminate <span class="string">&#x27;/bin/sh&#x27;</span> using the low byte of eax</span><br><span class="line">lea ebx, [esi]              ; Load the address of <span class="string">&#x27;/bin/sh&#x27;</span> into ebx</span><br><span class="line">mov dword [esi + 8], ebx</span><br><span class="line">lea ecx, [esi + 8]          ; Load the address of the argv array into ecx</span><br><span class="line">mov dword [esi + 12], eax</span><br><span class="line">lea edx, [esi + 12]         ; Load the address of the NULL terminator into edx</span><br><span class="line">mov al, 0x0b               ; Set al to 0x0b, the system call number <span class="keyword">for</span> execve</span><br><span class="line">int 0x80                   ; Trigger the syscall</span><br><span class="line"></span><br><span class="line">callShellcode:</span><br><span class="line"></span><br><span class="line">call shellcode</span><br><span class="line">db <span class="string">&#x27;/bin/sh&#x27;</span></span><br></pre></td></tr></table></figure><p>After saving this code to a file named “shellx.asm,” you need to compile it using NASM to obtain the hexadecimal representation of the code. Use the following commands:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nasm -f elf shellx.asm</span><br><span class="line">ld -o shellx shellx.o -m elf_i386</span><br></pre></td></tr></table></figure><p>This will generate a “shellx” file. However, it’s not executable yet. You’ll need to use the “objdump” command to extract the hexadecimal code. You can use a Bash script like this:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> $(objdump -d <span class="string">&quot;<span class="variable">$1</span>&quot;</span> | <span class="built_in">tr</span> <span class="string">&#x27;\t&#x27;</span> <span class="string">&#x27; &#x27;</span> | <span class="built_in">tr</span> <span class="string">&#x27; &#x27;</span> <span class="string">&#x27;\n&#x27;</span> | egrep <span class="string">&#x27;^[0-9a-f]&#123;2&#125;$&#x27;</span>); <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> -n <span class="string">&quot;\x<span class="variable">$i</span>&quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\n&quot;</span></span><br></pre></td></tr></table></figure><p>To validate your assembly code, you’ll need a C program as follows:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">char code[] = <span class="string">&quot;\xeb\x18\x5e\x31\xc0\x88\x46\x07\x8d\x1e\x89\x5e\x08\x8d\x4e\x08\x89\x46\x0c\x8d\x56\x0c\xb0\x0b\xcd\x80\xe8\xe3\xff\xff\xff\x2f\x62\x69\x6e\x2f\x73\x68&quot;</span>;</span><br><span class="line"></span><br><span class="line">int main(int argc, char **argv) &#123;</span><br><span class="line">    int (*func)();</span><br><span class="line">    func = (int (*)()) code;</span><br><span class="line">    (int)(*func)();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Compile this code with the following command:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -g -o shellcodetest shellcodetest.c -m32 -z execstack</span><br></pre></td></tr></table></figure><p>This will produce an executable, “shellcodetest.” When you run it, you’ll get a shell with root privileges:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">root@kali:/home/kali/shellCode_train<span class="comment"># ./shellcodetest</span></span><br><span class="line"><span class="comment"># ls</span></span><br><span class="line">    exit.asm     hello     shellcodetest    shellx.asm</span><br><span class="line">    exit.o       hello.asm  shellcodetest.c  shellx.o</span><br><span class="line">    getshellcode.sh  hello.o    shellx</span><br><span class="line"><span class="comment"># whoami</span></span><br><span class="line">    root</span><br><span class="line"><span class="comment">#</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Before you start learning shellcode development, please install NASM on your Linux system. Here’s the shellcode code:&lt;/p&gt;
&lt;figure class=&quot;</summary>
      
    
    
    
    <category term="Penetration Test" scheme="http://example.com/categories/Penetration-Test/"/>
    
    <category term="shellcode" scheme="http://example.com/categories/Penetration-Test/shellcode/"/>
    
    
    <category term="shellcode" scheme="http://example.com/tags/shellcode/"/>
    
  </entry>
  
  <entry>
    <title>How to compile asm to execute under Linux</title>
    <link href="http://example.com/2011/03/02/nasmCompile/"/>
    <id>http://example.com/2011/03/02/nasmCompile/</id>
    <published>2011-03-02T16:31:25.000Z</published>
    <updated>2023-10-17T15:39:39.176Z</updated>
    
    <content type="html"><![CDATA[<p>Here is code snippet to show how to compile asm to execute under Linux:</p><p>shellx.asm:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">section     .text</span><br><span class="line">global      _start </span><br><span class="line">_start: </span><br><span class="line">    mov     edx,len   </span><br><span class="line">    mov     ecx,msg   </span><br><span class="line">    mov     ebx,<span class="number">1</span>   </span><br><span class="line">    mov     eax,<span class="number">4</span>   </span><br><span class="line">    <span class="type">int</span>     <span class="number">0x80</span>   </span><br><span class="line">    mov     eax,<span class="number">1</span>  </span><br><span class="line">    <span class="type">int</span>     <span class="number">0x80</span>   </span><br><span class="line">section     .data</span><br><span class="line">msg     db  <span class="string">&#x27;Hello world&#x27;</span>,<span class="number">0xa</span>  </span><br><span class="line">len     equ $ - msg</span><br></pre></td></tr></table></figure><p>let’s start</p><ol><li>First step:</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vagrant@kali:~/Desktop/cdasm$ nasm -f elf64 shellx.asm</span><br></pre></td></tr></table></figure><ol start="2"><li>Next step:</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vagrant@kali:~/Desktop/cdasm$ ld -s -o shellx shellx.o</span><br></pre></td></tr></table></figure><ol start="3"><li>Execute :</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vagrant@kali:~/Desktop/cdasm$ ./shellx </span><br></pre></td></tr></table></figure><p>then output :</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello world</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Here is code snippet to show how to compile asm to execute under Linux:&lt;/p&gt;
&lt;p&gt;shellx.asm:&lt;/p&gt;
&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;</summary>
      
    
    
    
    <category term="Asm" scheme="http://example.com/categories/Asm/"/>
    
    <category term="linux" scheme="http://example.com/categories/Asm/linux/"/>
    
    
    <category term="nasm" scheme="http://example.com/tags/nasm/"/>
    
    <category term="linux" scheme="http://example.com/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>Compilation of Python Code Snippets for Hashing</title>
    <link href="http://example.com/2011/01/16/pythonHash/"/>
    <id>http://example.com/2011/01/16/pythonHash/</id>
    <published>2011-01-16T15:47:24.000Z</published>
    <updated>2023-10-17T16:06:28.632Z</updated>
    
    <content type="html"><![CDATA[<p>Performing relevant hashing operations is an essential skill in penetration testing. Here is a compilation of code snippets for common hash implementations in Python.</p><p><strong><em>md5</em></strong> :</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import hashlib</span><br><span class="line"></span><br><span class="line">mystring = input(<span class="string">&#x27;Enter String to hash: &#x27;</span>)</span><br><span class="line"><span class="comment"># Assumes the default UTF-8</span></span><br><span class="line">hash_object = hashlib.md5(mystring.encode())</span><br><span class="line"><span class="built_in">print</span>(hash_object.hexdigest())</span><br></pre></td></tr></table></figure><p><strong><em>sha1</em></strong>:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import hashlib</span><br><span class="line"></span><br><span class="line">hash_object = hashlib.sha1(b<span class="string">&#x27;Hello World&#x27;</span>)</span><br><span class="line">hex_dig = hash_object.hexdigest()</span><br><span class="line"><span class="built_in">print</span>(hex_dig)</span><br></pre></td></tr></table></figure><p><strong><em>SHA256</em></strong>:</p><figure class="highlight plaintext"><figcaption><span>hashlib</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hash_object = hashlib.sha256(b&#x27;Hello World&#x27;)</span><br><span class="line">hex_dig = hash_object.hexdigest()</span><br><span class="line">print(hex_dig)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong><em>sha512</em></strong>:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import hashlib</span><br><span class="line"></span><br><span class="line">input = <span class="string">&#x27;test&#x27;</span></span><br><span class="line"><span class="built_in">hash</span> = hashlib.sha512( str( input ).encode(<span class="string">&quot;utf-8&quot;</span>) ).hexdigest()</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">hash</span>)</span><br></pre></td></tr></table></figure><p><strong><em>DSA</em></strong>:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import hashlib</span><br><span class="line"></span><br><span class="line">hash_object = hashlib.new(<span class="string">&#x27;DSA&#x27;</span>)</span><br><span class="line">hash_object.update(b<span class="string">&#x27;Hello World&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(hash_object.hexdigest())</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Performing relevant hashing operations is an essential skill in penetration testing. Here is a compilation of code snippets for common ha</summary>
      
    
    
    
    <category term="Penetration Test" scheme="http://example.com/categories/Penetration-Test/"/>
    
    <category term="hash" scheme="http://example.com/categories/Penetration-Test/hash/"/>
    
    
    <category term="hash" scheme="http://example.com/tags/hash/"/>
    
  </entry>
  
  <entry>
    <title>About information_schema in MySQL</title>
    <link href="http://example.com/2010/10/15/information-schema/"/>
    <id>http://example.com/2010/10/15/information-schema/</id>
    <published>2010-10-15T16:47:16.000Z</published>
    <updated>2023-10-16T22:48:41.383Z</updated>
    
    <content type="html"><![CDATA[<p>The “<strong><em>information_schema</em></strong>“ is a system database in MySQL that contains metadata information about <strong><em>databases, tables, columns, indexes, users, permissions,</em></strong> and more within the MySQL server. It serves as an interface for querying metadata information in MySQL. This information is stored in tabular form within tables in the “information_schema” database, and users can retrieve metadata information by using SQL statements to query these tables.</p><p>Here are some common tables in the ‘information_schema’ database:</p><ol><li><strong><em>SCHEMATA</em></strong>: Stores information about all databases, including database names, character sets, etc.</li><li><strong><em>TABLES</em></strong>: Stores information about all tables, including table names, table types, engines, etc.</li><li><strong><em>COLUMNS</em></strong>: Stores information about all columns, including column names, column data types, column constraints, etc.</li><li><strong><em>STATISTICS</em></strong>: Stores information about all indexes, including index names, index types, the table where the index is located, index columns, etc.</li><li><strong><em>USER_PRIVILEGES</em></strong>: Stores information about user privileges, including user accounts, permissions, etc.</li></ol><p>By querying the tables in the <strong><em>information_schema</em></strong> database, you can obtain information about various aspects of <strong><em>databases, tables, columns, indexes, users, and permissions</em></strong>. This is very helpful for database management and maintenance.</p><p>Next, let’s take a look at an example of finding key information through the information_schema database:</p><ol><li>Query information about the current user:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT current_user();</span><br></pre></td></tr></table></figure></li><li>Query information about the user for the current session:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT session_user();</span><br></pre></td></tr></table></figure></li><li>Get the path of the database:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT @@datadir;</span><br></pre></td></tr></table></figure></li><li>Get the installation path of MySQL:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select @@basedir;</span><br></pre></td></tr></table></figure></li><li>Retrieve information about the operating system version:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT @@version_compile_os;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;The “&lt;strong&gt;&lt;em&gt;information_schema&lt;/em&gt;&lt;/strong&gt;“ is a system database in MySQL that contains metadata information about &lt;strong&gt;&lt;em&gt;dat</summary>
      
    
    
    
    <category term="Penetration Test" scheme="http://example.com/categories/Penetration-Test/"/>
    
    <category term="mysql" scheme="http://example.com/categories/Penetration-Test/mysql/"/>
    
    <category term="sql inject" scheme="http://example.com/categories/Penetration-Test/mysql/sql-inject/"/>
    
    
  </entry>
  
  <entry>
    <title>In Qt, how to transmit custom data using QAction::setData</title>
    <link href="http://example.com/2010/05/01/QtSetData/"/>
    <id>http://example.com/2010/05/01/QtSetData/</id>
    <published>2010-05-02T03:16:09.000Z</published>
    <updated>2023-10-17T16:04:32.083Z</updated>
    
    <content type="html"><![CDATA[<p>Recently, in a project, there was a need to transmit custom data using QAction::setData. I’ve searched online for a lot of information, but it’s all a bit vague, and none of them hit the mark. Some even provide solutions that completely contradict Qt’s principles. Below is an example code I wrote:</p><ol><li>Custom data:<br>Here, taking a custom class as an example, the code is as follows:</li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//.h</span></span><br><span class="line"></span><br><span class="line">#ifndef QNEWITEM_H</span><br><span class="line">#define QNEWITEM_H</span><br><span class="line"></span><br><span class="line">#include &lt;QObject&gt;</span><br><span class="line"></span><br><span class="line">class QNewItem : public QObject</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">public:</span><br><span class="line">    QNewItem(QObject *parent = <span class="number">0</span>);</span><br><span class="line">    ~QNewItem();</span><br><span class="line"></span><br><span class="line">    <span class="type">bool</span> setUserInfo(QString&amp; strName,qint16&amp; nAge);</span><br><span class="line"></span><br><span class="line">private:</span><br><span class="line">    QString m_strName;</span><br><span class="line">    qint16 m_nAge;</span><br><span class="line">&#125;;</span><br><span class="line">#endif <span class="comment">// QNEWITEM_H</span></span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//.cpp</span></span><br><span class="line"></span><br><span class="line">#include <span class="string">&quot;qnewitem.h&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">QNewItem::QNewItem(QObject *parent)</span><br><span class="line">: QObject(parent)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">QNewItem::~QNewItem()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">bool</span> QNewItem::setUserInfo( QString&amp; strName,qint16&amp; nAge )</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">bool</span> bRet = <span class="literal">false</span>;</span><br><span class="line">    do</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>( strName.isEmpty() || nAge &gt;<span class="number">200</span> &amp;&amp; nAge&lt;<span class="number">0</span> ) <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        m_strName = strName;</span><br><span class="line">        m_nAge = nAge;</span><br><span class="line">        bRet = <span class="literal">true</span>;</span><br><span class="line">    &#125; while (<span class="literal">false</span>);</span><br><span class="line">    <span class="keyword">return</span> bRet;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>At the beginning of the calling CPP file, you must declare it like this:</li></ol><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#include <span class="string">&quot;qnewitem.h&quot;</span></span><br><span class="line"></span><br><span class="line">Q_DECLARE_METATYPE(QNewItem*)</span><br></pre></td></tr></table></figure><p>There’s not much else to say; when you look at the code, you’ll understand everything.</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">#include <span class="string">&quot;qnewitem.h&quot;</span></span><br><span class="line"></span><br><span class="line">Q_DECLARE_METATYPE(QNewItem*)</span><br><span class="line"></span><br><span class="line">customDefineDemo::customDefineDemo(QWidget *parent, Qt::WFlags flags)</span><br><span class="line">: QMainWindow(parent, flags)</span><br><span class="line">&#123;</span><br><span class="line">    ui.setupUi(this);</span><br><span class="line">    connect(ui.pushButton , SIGNAL(clicked()),this,SLOT(onBtnClick()));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">customDefineDemo::~customDefineDemo()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void customDefineDemo::onBtnClick()</span><br><span class="line">&#123;</span><br><span class="line">    QMenu* pMenu = <span class="built_in">new</span> QMenu();</span><br><span class="line">    QNewItem* pNewItem = <span class="built_in">new</span> QNewItem();</span><br><span class="line">    qint16 nAge = <span class="number">34</span>;</span><br><span class="line">    QVariant qv;</span><br><span class="line">    do</span><br><span class="line">    &#123;</span><br><span class="line">        QAction* pPortraitView = <span class="built_in">new</span> QAction(tr(<span class="string">&quot;New&quot;</span>), this);</span><br><span class="line">        QAction* pAddGroup = <span class="built_in">new</span> QAction(tr(<span class="string">&quot;Open&quot;</span>), this);</span><br><span class="line">        QAction* pDeleteGroup = <span class="built_in">new</span> QAction(tr(<span class="string">&quot;Save&quot;</span>), this);</span><br><span class="line"></span><br><span class="line">        pNewItem-&gt;setUserInfo(tr(<span class="string">&quot;Eric&quot;</span>),nAge);</span><br><span class="line"></span><br><span class="line">        pPortraitView-&gt;setData( QVariant::fromValue(pNewItem) ) ;</span><br><span class="line"></span><br><span class="line">        connect(pPortraitView,SIGNAL(triggered()),this,SLOT(triggeredMenuSendMsgContact()));</span><br><span class="line"></span><br><span class="line">        pMenu-&gt;addAction(pPortraitView);</span><br><span class="line">        pMenu-&gt;addAction(pAddGroup);</span><br><span class="line">        pMenu-&gt;addAction(pDeleteGroup);</span><br><span class="line">        pMenu-&gt;exec(QCursor::pos());</span><br><span class="line">    &#125; while (<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>( pMenu != nullptr )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">delete</span> pMenu;</span><br><span class="line">        pMenu = nullptr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void customDefineDemo::triggeredMenuSendMsgContact()</span><br><span class="line">&#123;</span><br><span class="line">    QAction* pSendMsg= NULL;</span><br><span class="line">    QNewItem* pObj = NULL;</span><br><span class="line">    do</span><br><span class="line">    &#123;</span><br><span class="line">        pSendMsg=qobject_cast&lt;QAction*&gt;(sender());</span><br><span class="line"></span><br><span class="line">        pObj = pSendMsg-&gt;data().value&lt;QNewItem*&gt;();</span><br><span class="line">    &#125; while (<span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>( pObj != nullptr )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">delete</span> pObj;</span><br><span class="line">        pObj = nullptr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Recently, in a project, there was a need to transmit custom data using QAction::setData. I’ve searched online for a lot of information, b</summary>
      
    
    
    
    <category term="C/C++" scheme="http://example.com/categories/C-C/"/>
    
    
    <category term="Qt" scheme="http://example.com/tags/Qt/"/>
    
  </entry>
  
  <entry>
    <title>The confusing floating point problem</title>
    <link href="http://example.com/2010/03/14/floatData/"/>
    <id>http://example.com/2010/03/14/floatData/</id>
    <published>2010-03-15T02:44:22.000Z</published>
    <updated>2023-10-17T03:44:56.325Z</updated>
    
    <content type="html"><![CDATA[<p>Recently, I encountered an issue with floating-point numbers. </p><p>code:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fld dword ptr ds:[esi+1E4]</span><br></pre></td></tr></table></figure><p>and </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">esi+1E4 = 02FCE9D4</span><br></pre></td></tr></table></figure><p>The following is its memory:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">02FCE9D4  00 C0 2B 45 00 C0 2B 45 00 00 00 00 00 00 00 00  .?E.?E........</span><br></pre></td></tr></table></figure><p>After execution this code:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fld dword ptr ds:[esi+1E4]</span><br></pre></td></tr></table></figure><p>watches:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ST0 = 2748.00000000000.</span><br></pre></td></tr></table></figure><p>I would like to know how ST0 equals 2748?</p><p>In the end, it’s all about the representation of floating-point numbers. According to the IEEE standard, the first bit is the sign bit, the next 8 bits represent the exponent, and the remaining 23 bits are the mantissa. Considering that it’s <strong><em>little-endian storage</em></strong>, the value of the number <strong><em>00 C0 2B 45</em></strong> is <strong><em>452BC000</em></strong>, which is:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0100 0101 0010 1011 1100 0000 0000 0000</span><br></pre></td></tr></table></figure><p>The first bit is 0, indicating it’s a positive number.<br>The next 8 bits, which is <strong><em>10001010</em></strong>, 8A, in decimal, is 138. 138 - 127 &#x3D; 11, indicating the exponent is <strong><em>11</em></strong> bits.<br>And the remaining 23 bits have the value:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">010 1011 1100 0000 0000 0000</span><br></pre></td></tr></table></figure><p>The leading bit, with the omitted <strong><em>1</em></strong>, has a value of:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1010 1011 1100 0000 0000 0000</span><br></pre></td></tr></table></figure><p>Above 11 bits for the exponent indicate that the position of the decimal point is:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1010 1011 1100 .  0000 0000 0000</span><br></pre></td></tr></table></figure><p>Converting to hexadecimal, it’s <strong><em>ABC</em></strong>.000. Converting to decimal, it’s <strong><em>2748</em></strong>.00000000.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Recently, I encountered an issue with floating-point numbers. &lt;/p&gt;
&lt;p&gt;code:&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=</summary>
      
    
    
    
    <category term="Others" scheme="http://example.com/categories/Others/"/>
    
    <category term="float data" scheme="http://example.com/categories/Others/float-data/"/>
    
    
    <category term="asm" scheme="http://example.com/tags/asm/"/>
    
    <category term="float" scheme="http://example.com/tags/float/"/>
    
    <category term="binary" scheme="http://example.com/tags/binary/"/>
    
  </entry>
  
  <entry>
    <title>Example program for code decompilation</title>
    <link href="http://example.com/2009/11/04/codedecompilation/"/>
    <id>http://example.com/2009/11/04/codedecompilation/</id>
    <published>2009-11-05T03:36:35.000Z</published>
    <updated>2023-10-17T03:45:59.598Z</updated>
    
    <content type="html"><![CDATA[<p>  Some time ago, a friend asked me to help reverse engineer something, extract its code, save it as an assembly file, and compile and run it in VC (Visual C++).</p><p>  asm file :</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">                .686p</span><br><span class="line">                .model flat,c</span><br><span class="line">        option casemap : none</span><br><span class="line">        </span><br><span class="line">        extern sprintf:proc</span><br><span class="line">        extern strcat:proc</span><br><span class="line">                </span><br><span class="line">.data</span><br><span class="line">               ___security_cookie dd 0BB40E64Eh</span><br><span class="line">               a02x_0 db &quot;%02X&quot;</span><br><span class="line">   </span><br><span class="line">.code  </span><br><span class="line">         public      sub_40B444    </span><br><span class="line">         </span><br><span class="line">sub_40B444        proc near                ; CODE XREF: sub_40CCEA+A4p</span><br><span class="line"></span><br><span class="line">;Source                = byte ptr -14h</span><br><span class="line">;var_4                = dword        ptr -4</span><br><span class="line">;arg_0                = dword        ptr  8</span><br><span class="line">;arg_4                = dword        ptr  0Ch</span><br><span class="line">;arg_8                = dword        ptr  10h</span><br><span class="line"></span><br><span class="line">                push        ebp</span><br><span class="line">                mov        ebp, esp</span><br><span class="line">                sub        esp, 14h</span><br><span class="line">                mov        eax, dword ptr ___security_cookie ; &quot;N鍬?</span><br><span class="line">                xor        eax, ebp</span><br><span class="line">                mov        [ebp-4], eax</span><br><span class="line">                push        ebx</span><br><span class="line">                mov        ebx, [ebp+8]</span><br><span class="line">                push        esi</span><br><span class="line">                mov        esi, [ebp+10h]</span><br><span class="line">                push        edi</span><br><span class="line">                xor        edi, edi</span><br><span class="line">                cmp        [ebp+0Ch], edi</span><br><span class="line">                mov        byte ptr [esi],        0</span><br><span class="line">                jbe        short loc_40B48E</span><br><span class="line"></span><br><span class="line">loc_40B467:                                ; CODE XREF: sub_40B444+48j</span><br><span class="line">                movzx        eax, byte ptr [ebx+edi]</span><br><span class="line">                push        eax</span><br><span class="line">                lea        eax, [ebp-14h]</span><br><span class="line">                push        offset a02x_0        ; &quot;%02X&quot;</span><br><span class="line">                push        eax                ; Dest</span><br><span class="line">                call        sprintf</span><br><span class="line">                lea        eax, [ebp-14h]</span><br><span class="line">                push        eax                ; Source</span><br><span class="line">                push        esi                ; Dest</span><br><span class="line">                call        strcat</span><br><span class="line">                add        esp, 14h</span><br><span class="line">                inc        edi</span><br><span class="line">                cmp        edi, [ebp+0Ch]</span><br><span class="line">                jb        short loc_40B467</span><br><span class="line"></span><br><span class="line">loc_40B48E:                                ; CODE XREF: sub_40B444+21j</span><br><span class="line">                mov        ecx, [ebp-4]</span><br><span class="line">                pop        edi</span><br><span class="line">                pop        esi</span><br><span class="line">                xor        ecx, ebp</span><br><span class="line">                leave</span><br><span class="line">                retn</span><br><span class="line">sub_40B444        endp</span><br><span class="line"></span><br><span class="line">end</span><br></pre></td></tr></table></figure><p>The sample code is as follows:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#include &quot;stdafx.h&quot;</span><br><span class="line">#include &lt;Windows.h&gt;</span><br><span class="line"></span><br><span class="line">extern &quot;C&quot; &#123;</span><br><span class="line">        char* sub_40B444(char*,int,char*);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int _tmain(int argc, _TCHAR* argv[])</span><br><span class="line">&#123;</span><br><span class="line">        char* pszBuf = new char[1024];</span><br><span class="line">        memset( pszBuf , 0 , 1024 );</span><br><span class="line">        strcpy_s( pszBuf , 1024 , &quot;des:&quot; );</span><br><span class="line">        sub_40B444( &quot;你总是说我在，这样孤单时候，才能想起与你联络&quot; , strlen(&quot;你总是说我在，这样孤单时候，才能想起与你联络&quot;) , pszBuf );</span><br><span class="line">        printf_s( &quot;format string : %s\n&quot; , &quot;你总是说我在，这样孤单时候，才能想起与你联络&quot; );</span><br><span class="line">        printf_s( &quot;format string : %s\n&quot; , pszBuf );</span><br><span class="line"></span><br><span class="line">       if( pszBuf != NULL )</span><br><span class="line">        &#123;</span><br><span class="line">           delete[]pszBuf;</span><br><span class="line">           pszBuf = NULL;</span><br><span class="line">        &#125;</span><br><span class="line">        return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;  Some time ago, a friend asked me to help reverse engineer something, extract its code, save it as an assembly file, and compile and run</summary>
      
    
    
    
    <category term="Asm" scheme="http://example.com/categories/Asm/"/>
    
    <category term="windows" scheme="http://example.com/categories/Asm/windows/"/>
    
    
    <category term="inline" scheme="http://example.com/tags/inline/"/>
    
    <category term="asm" scheme="http://example.com/tags/asm/"/>
    
    <category term="C/C++" scheme="http://example.com/tags/C-C/"/>
    
  </entry>
  
  <entry>
    <title>NDIS6 how to drop packets</title>
    <link href="http://example.com/2009/07/14/ndis6DropPackage/"/>
    <id>http://example.com/2009/07/14/ndis6DropPackage/</id>
    <published>2009-07-15T02:29:18.000Z</published>
    <updated>2023-10-17T16:02:49.880Z</updated>
    
    <content type="html"><![CDATA[<p>In ndis6 how to drop packets?</p><p>in FilterSendNetBufferLists:</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">FILTER_RELEASE_LOCK(&amp;pFilter-&gt;Lock, DispatchLevel);</span><br><span class="line"><span class="comment">//DEBUGP(DL_TRACE, (&quot;&lt;===SendNetBufferList [CheckPacket] drop this packet. \n&quot;));</span></span><br><span class="line"> </span><br><span class="line">CurrNbl = NetBufferLists;</span><br><span class="line">while (CurrNbl)</span><br><span class="line">&#123;</span><br><span class="line">    NET_BUFFER_LIST_STATUS(CurrNbl) = NDIS_STATUS_MEDIA_DISCONNECTED ;</span><br><span class="line">    CurrNbl = NET_BUFFER_LIST_NEXT_NBL(CurrNbl);</span><br><span class="line">&#125;</span><br><span class="line">NdisFSendNetBufferListsComplete(pFilter-&gt;FilterHandle,</span><br><span class="line">NetBufferLists,</span><br><span class="line">DispatchLevel ? NDIS_SEND_COMPLETE_FLAGS_DISPATCH_LEVEL : <span class="number">0</span>);</span><br><span class="line"><span class="keyword">break</span>;</span><br></pre></td></tr></table></figure><p>in FilterReceiveNetBufferLists:</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">FILTER_RELEASE_LOCK(&amp;pFilter-&gt;Lock, DispatchLevel);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (NDIS_TEST_RECEIVE_CAN_PEND(ReceiveFlags))</span><br><span class="line">&#123;</span><br><span class="line">    ReturnFlags = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (NDIS_TEST_RECEIVE_AT_DISPATCH_LEVEL(ReceiveFlags))</span><br><span class="line">    &#123;</span><br><span class="line">        NDIS_SET_RETURN_FLAG(ReturnFlags, NDIS_RETURN_FLAGS_DISPATCH_LEVEL);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    NdisFReturnNetBufferLists(pFilter-&gt;FilterHandle, NetBufferLists, ReturnFlags);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;In ndis6 how to drop packets?&lt;/p&gt;
&lt;p&gt;in FilterSendNetBufferLists:&lt;/p&gt;
&lt;figure class=&quot;highlight go&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;sp</summary>
      
    
    
    
    <category term="Kernel" scheme="http://example.com/categories/Kernel/"/>
    
    <category term="windows" scheme="http://example.com/categories/Kernel/windows/"/>
    
    <category term="ndis6" scheme="http://example.com/categories/Kernel/windows/ndis6/"/>
    
    
    <category term="ndis6" scheme="http://example.com/tags/ndis6/"/>
    
    <category term="kernel" scheme="http://example.com/tags/kernel/"/>
    
    <category term="firewall" scheme="http://example.com/tags/firewall/"/>
    
  </entry>
  
  <entry>
    <title>In a VC (Visual C++) project, how to compile with an assembly language file</title>
    <link href="http://example.com/2009/01/03/compileAssemblyFile/"/>
    <id>http://example.com/2009/01/03/compileAssemblyFile/</id>
    <published>2009-01-04T04:29:12.000Z</published>
    <updated>2023-10-17T03:46:12.284Z</updated>
    
    <content type="html"><![CDATA[<p>It include <strong><em>four steps</em></strong>:</p><ol><li><p>Add the assembly language file to the project.</p></li><li><p>In the Solution Explorer window, right-click the Visual C++ project, choose <strong><em>“Build Customizations…”</em></strong>, and a dialog box labeled <strong><em>“Visual C++ Build Customization Files”</em></strong> will pop up. Check the <strong><em>“masm”</em></strong> option and click <strong><em>OK</em></strong>.</p><p>At this point, in the <strong><em>Configuration Property</em></strong>, you can see “<strong><em>Microsoft Macro Assembler.</em></strong>“</p></li><li><p>Right-click the assembly language file, select “<strong><em>Properties</em></strong>,” go to “<strong><em>Custom Build    Step</em></strong>,” and then “<strong><em>General</em></strong>.” </p><p>In the “<strong><em>Command Line</em></strong>“ field on the right, input:</p></li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ml.exe /c /D<span class="string">&quot;X86&quot;</span> /D<span class="string">&quot;DEBUG&quot;</span> /Fo<span class="string">&quot;<span class="subst">$(IntDir)</span>/<span class="subst">$(InputName)</span>.obj&quot;</span> $(InputFileName)</span><br></pre></td></tr></table></figure><p>   In the “<strong><em>Outputs</em></strong>“ field, input:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(IntDir)/$(InputName).obj</span><br></pre></td></tr></table></figure><ol start="4"><li>Don’t forget to add the path to ml.exe to the environment variable “<strong><em>PATH</em></strong>.”</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;It include &lt;strong&gt;&lt;em&gt;four steps&lt;/em&gt;&lt;/strong&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Add the assembly language file to the project.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In the S</summary>
      
    
    
    
    <category term="Asm" scheme="http://example.com/categories/Asm/"/>
    
    <category term="windows" scheme="http://example.com/categories/Asm/windows/"/>
    
    
    <category term="inline" scheme="http://example.com/tags/inline/"/>
    
    <category term="asm" scheme="http://example.com/tags/asm/"/>
    
    <category term="C/C++" scheme="http://example.com/tags/C-C/"/>
    
  </entry>
  
</feed>
